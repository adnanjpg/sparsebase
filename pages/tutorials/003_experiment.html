<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Creating an SPMV Experiment &mdash; SparseBase v0.3.1 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/collapsible-lists/css/tree_view.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/collapsible-lists/js/CollapsibleLists.compressed.js"></script>
        <script src="../../_static/collapsible-lists/js/apply-collapsible-lists.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Accelerating SpMV on the GPU using reordering" href="004_cuda_spmv.html" />
    <link rel="prev" title="Feature Extraction from a Matrix Market File" href="002_feature_extraction.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> SparseBase
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="001_reordering.html">Reordering a graph</a></li>
<li class="toctree-l2"><a class="reference internal" href="002_feature_extraction.html">Feature Extraction from a Matrix Market File</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Creating an SPMV Experiment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#objective">Objective</a></li>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#preliminaries">Preliminaries</a></li>
<li class="toctree-l3"><a class="reference internal" href="#steps">Steps</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#create-an-experiment-concreteexperiment">1. Create an <code class="docutils literal notranslate"><span class="pre">experiment::ConcreteExperiment</span></code>.</a></li>
<li class="toctree-l4"><a class="reference internal" href="#add-dataloaderfunction-to-the-experiment">2. Add <code class="docutils literal notranslate"><span class="pre">DataLoaderFunction</span></code> to the Experiment.</a></li>
<li class="toctree-l4"><a class="reference internal" href="#add-preprocessfunction-to-the-experiment">3. Add <code class="docutils literal notranslate"><span class="pre">PreprocessFunction</span></code> to the experiment.</a></li>
<li class="toctree-l4"><a class="reference internal" href="#add-kernelfunction-to-the-experiment">4. Add <code class="docutils literal notranslate"><span class="pre">KernelFunction</span></code> to the experiment.</a></li>
<li class="toctree-l4"><a class="reference internal" href="#run-the-experiment">5. Run the experiment.</a></li>
<li class="toctree-l4"><a class="reference internal" href="#get-results-runtimes-and-auxiliary-data">6. Get results, runtimes, and auxiliary data.</a></li>
<li class="toctree-l4"><a class="reference internal" href="#compile-execute-the-program">7. Compile &amp; Execute the program.</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="004_cuda_spmv.html">Accelerating SpMV on the GPU using reordering</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../explanations/index.html">Explanations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how_to_guides/index.html">How To Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/library_root.html">Library API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License (MIT)</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">SparseBase</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Tutorials</a> &raquo;</li>
      <li>Creating an SPMV Experiment</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/pages/tutorials/003_experiment.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="creating-an-spmv-experiment">
<h1>Creating an SPMV Experiment<a class="headerlink" href="#creating-an-spmv-experiment" title="Permalink to this headline"></a></h1>
<section id="objective">
<h2>Objective<a class="headerlink" href="#objective" title="Permalink to this headline"></a></h2>
<p>Read matrix files from disk, apply reordering, run various SPMV kernels by using the experiment api.</p>
</section>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline"></a></h2>
<p>In this tutorial, you will use SparseBase to do the following:</p>
<ol class="arabic simple">
<li><p>Read multiple matrix files (sparse matrices) from different file formats.</p></li>
<li><p>Reorder the rows of the matrices using Reverse Cuthill-McKee (RCM) reordering and permute the matrices using the obtained order.</p></li>
<li><p>Create multiple kernels that carry out sparse matrix / vector (SPMV) multiplication.</p></li>
<li><p>Use the <code class="docutils literal notranslate"><span class="pre">sparsebase::experiment::ConcreteExperiment</span></code> api to automate the above steps.</p></li>
</ol>
<p>A single experiment runs all the preprocessings on all the loaded data. Then for all the generated data, i.e. loaded data times preprocessings, the experiment suite runs user defined kernels.</p>
</section>
<section id="preliminaries">
<h2>Preliminaries<a class="headerlink" href="#preliminaries" title="Permalink to this headline"></a></h2>
<p>Start by navigating to the directory <code class="docutils literal notranslate"><span class="pre">tutorials/003_experiment/start_here/</span></code>. Open the file <code class="docutils literal notranslate"><span class="pre">tutorial_003.cc</span></code> using a code editor, and follow along with the tutorial. The file contains some boilerplate code that includes the appropriate headers, creates some type definitions, contains some functions for SPMV, and uses the <code class="docutils literal notranslate"><span class="pre">sparsebase</span></code> namespace.</p>
<p>The completed tutorial can be found in <code class="docutils literal notranslate"><span class="pre">tutorials/003_experiment/solved/solved.cc</span></code>. For this tutorial we will use the unordered edge list file <code class="docutils literal notranslate"><span class="pre">examples/data/com-dblp.uedgelist</span></code> and matrix market file <code class="docutils literal notranslate"><span class="pre">examples/data/ash958.mtx</span></code>.</p>
</section>
<section id="steps">
<h2>Steps<a class="headerlink" href="#steps" title="Permalink to this headline"></a></h2>
<section id="create-an-experiment-concreteexperiment">
<h3>1. Create an <code class="docutils literal notranslate"><span class="pre">experiment::ConcreteExperiment</span></code>.<a class="headerlink" href="#create-an-experiment-concreteexperiment" title="Permalink to this headline"></a></h3>
<p>In order to run a Sparsebase experiment first we need to create a <code class="docutils literal notranslate"><span class="pre">sparsebase::experiment::ConcreteExperiment</span></code>object.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="n">experiment</span><span class="o">::</span><span class="n">ConcreteExperiment</span><span class="w"> </span><span class="n">exp</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
<p>Then we will add <code class="docutils literal notranslate"><span class="pre">DataLoader</span></code>, <code class="docutils literal notranslate"><span class="pre">Preprocess</span></code>, and <code class="docutils literal notranslate"><span class="pre">Kernel</span></code>functions, run the experiment, and analyze its results.</p>
</section>
<section id="add-dataloaderfunction-to-the-experiment">
<h3>2. Add <code class="docutils literal notranslate"><span class="pre">DataLoaderFunction</span></code> to the Experiment.<a class="headerlink" href="#add-dataloaderfunction-to-the-experiment" title="Permalink to this headline"></a></h3>
<p>Create data loaders for the two different file formats we are going to use. Also create and pass the vectors as file specific parameters. These vectors are going to be used in the calculation.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="c1">// create vector for ash958.mtx and fill it with random floats</span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="p">[</span><span class="mi">958</span><span class="p">];</span><span class="w"></span>
<span class="w">  </span><span class="n">fill_r</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="mi">958</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">ash_v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Array</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">958</span><span class="p">,</span><span class="w"> </span><span class="n">v</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="c1">// create vector for com-dblp.uedgelist and fill it with random floats</span>
<span class="w">  </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="p">[</span><span class="mi">317080</span><span class="p">];</span><span class="w"></span>
<span class="w">  </span><span class="n">fill_r</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="mi">317080</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">dblp_v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Array</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">317080</span><span class="p">,</span><span class="w"> </span><span class="n">v</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="c1">// Add data loader for the first file</span>
<span class="w">  </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]};</span><span class="w"></span>
<span class="w">  </span><span class="n">exp</span><span class="p">.</span><span class="n">AddDataLoader</span><span class="p">(</span><span class="n">experiment</span><span class="o">::</span><span class="n">LoadCSR</span><span class="o">&lt;</span><span class="n">MTXReader</span><span class="p">,</span><span class="w"> </span><span class="n">row_type</span><span class="p">,</span><span class="w"> </span><span class="n">nnz_type</span><span class="p">,</span><span class="w"> </span><span class="n">value_type</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">make_pair</span><span class="p">(</span><span class="n">files</span><span class="p">,</span><span class="w"> </span><span class="n">ash_v</span><span class="p">)});</span><span class="w"></span>
<span class="w">  </span><span class="c1">// add data loader for the second file</span>
<span class="w">  </span><span class="n">files</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">]};</span><span class="w"></span>
<span class="w">  </span><span class="n">exp</span><span class="p">.</span><span class="n">AddDataLoader</span><span class="p">(</span><span class="n">experiment</span><span class="o">::</span><span class="n">LoadCSR</span><span class="o">&lt;</span><span class="n">EdgeListReader</span><span class="p">,</span><span class="w"> </span><span class="n">row_type</span><span class="p">,</span><span class="w"> </span><span class="n">nnz_type</span><span class="p">,</span><span class="w"> </span><span class="n">value_type</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">make_pair</span><span class="p">(</span><span class="n">files</span><span class="p">,</span><span class="w"> </span><span class="n">dblp_v</span><span class="p">)});</span><span class="w"></span>
</pre></div>
</div>
<p>Note that functions passed to <code class="docutils literal notranslate"><span class="pre">AddDataLoader</span></code> member function of the <code class="docutils literal notranslate"><span class="pre">experiment::Experiment</span></code> interface must follow the function definition <code class="docutils literal notranslate"><span class="pre">experiment::DataLoaderFunction</span></code>.
In this example we are using the pre-written <code class="docutils literal notranslate"><span class="pre">experiment::LoadCSR</span></code>function by passing the correct file reader for the respective files.
We also provide the file/files to be read for each data loader, and file specific parameters that are going to be used throughout the experiment as pairs.</p>
</section>
<section id="add-preprocessfunction-to-the-experiment">
<h3>3. Add <code class="docutils literal notranslate"><span class="pre">PreprocessFunction</span></code> to the experiment.<a class="headerlink" href="#add-preprocessfunction-to-the-experiment" title="Permalink to this headline"></a></h3>
<p>Next, create two preprocessing functions, first use <code class="docutils literal notranslate"><span class="pre">experiment::Pass</span></code> function to run your kernels on the original data. Also add <code class="docutils literal notranslate"><span class="pre">experiment::Reorder</span></code> with the ordering of your choosing. In this case we add <code class="docutils literal notranslate"><span class="pre">RCMReorder</span></code>.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="c1">// add dummy preprocessing to run kernels without reordering</span>
<span class="w">  </span><span class="n">exp</span><span class="p">.</span><span class="n">AddPreprocess</span><span class="p">(</span><span class="s">&quot;original&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">experiment</span><span class="o">::</span><span class="n">Pass</span><span class="p">,</span><span class="w"> </span><span class="p">{});</span><span class="w"> </span>
<span class="w">  </span><span class="n">RCMReorder</span><span class="o">&lt;</span><span class="n">row_type</span><span class="p">,</span><span class="w"> </span><span class="n">nnz_type</span><span class="p">,</span><span class="w"> </span><span class="n">value_type</span><span class="o">&gt;::</span><span class="n">ParamsType</span><span class="w"> </span><span class="n">params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{};</span><span class="w"></span>
<span class="w">  </span><span class="n">exp</span><span class="p">.</span><span class="n">AddPreprocess</span><span class="p">(</span><span class="s">&quot;RCM&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">experiment</span><span class="o">::</span><span class="n">Reorder</span><span class="o">&lt;</span><span class="n">RCMReorder</span><span class="p">,</span><span class="w"> </span><span class="n">CSR</span><span class="p">,</span><span class="w"> </span><span class="n">CPUContext</span><span class="p">,</span><span class="w"> </span><span class="n">row_type</span><span class="p">,</span><span class="w"> </span><span class="n">nnz_type</span><span class="p">,</span><span class="w"> </span><span class="n">value_type</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">params</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>As the first parameter of the <code class="docutils literal notranslate"><span class="pre">AddPreprocess</span></code> function we provide an identifier that is necessary to distinguish the results, auxiliary data, and runtimes generated as a result of the experiment.
The second parameter, preprocess function, must follow the function definition <code class="docutils literal notranslate"><span class="pre">experiment::PreprocessFunction</span></code>. Here we use the pre-written <code class="docutils literal notranslate"><span class="pre">experiment::Pass</span></code>to run kernels on the original data, and <code class="docutils literal notranslate"><span class="pre">experiment::Reorder</span></code>to reorder the matrices with RCM reordering.
Last parameter of this function is the preprocessing specific parameters. Here the preprocessing algorithms we wish to use do not use any parameters.</p>
</section>
<section id="add-kernelfunction-to-the-experiment">
<h3>4. Add <code class="docutils literal notranslate"><span class="pre">KernelFunction</span></code> to the experiment.<a class="headerlink" href="#add-kernelfunction-to-the-experiment" title="Permalink to this headline"></a></h3>
<p>After loading data and applying some preprocessing on it, now, we can add our own functions that we are actually interested in. In the file you can find two functions for SMPV; <code class="docutils literal notranslate"><span class="pre">spmv</span></code> and <code class="docutils literal notranslate"><span class="pre">spmv_par</span></code>. The first one is a single-threaded implementation and the second one uses <code class="docutils literal notranslate"><span class="pre">omp</span></code> to parallelization.</p>
<p>Use the <code class="docutils literal notranslate"><span class="pre">AddKernel</span></code> function of the experiment api to add these functions to the pipeline.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="c1">// add kernels that will carry out the SPMV</span>
<span class="w">  </span><span class="c1">// init random vals large enough for all the files and pass it as a kernel specific parameter</span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">vals</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="mi">1049866</span><span class="p">];</span><span class="w"></span>
<span class="w">  </span><span class="n">fill_r</span><span class="p">(</span><span class="n">vals</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="o">*</span><span class="mi">1049866</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">vals_v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Array</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="mi">1049866</span><span class="p">,</span><span class="w"> </span><span class="n">vals</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="n">exp</span><span class="p">.</span><span class="n">AddKernel</span><span class="p">(</span><span class="s">&quot;single-threaded&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">spmv</span><span class="p">,</span><span class="w"> </span><span class="n">vals_v</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="n">exp</span><span class="p">.</span><span class="n">AddKernel</span><span class="p">(</span><span class="s">&quot;omp-parallel&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">spmv_par</span><span class="p">,</span><span class="w"> </span><span class="n">vals_v</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>Not surprisingly, <code class="docutils literal notranslate"><span class="pre">AddKernel</span></code> function takes an identifier, a kernel function that follows the function definition <code class="docutils literal notranslate"><span class="pre">experiment::KernelFucntion</span></code>, and kernel specific parameters. Here as kernel specific parameters we pass dummy floats since the matrices we are using does not have any values.</p>
</section>
<section id="run-the-experiment">
<h3>5. Run the experiment.<a class="headerlink" href="#run-the-experiment" title="Permalink to this headline"></a></h3>
<p>Finally, run the experiment by calling the run function of the api.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="n">exp</span><span class="p">.</span><span class="n">Run</span><span class="p">(</span><span class="n">NUM_RUNS</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>First parameter of <code class="docutils literal notranslate"><span class="pre">Run</span></code> take the number of times the experiment will be run. As parallel programmers we value the importance of averaging :).
If we wish to get the intermediate data generated, i.e. the permuted/reordered matrices, we can pass <code class="docutils literal notranslate"><span class="pre">true</span></code> as the second parameter of <code class="docutils literal notranslate"><span class="pre">Run</span></code>function.</p>
</section>
<section id="get-results-runtimes-and-auxiliary-data">
<h3>6. Get results, runtimes, and auxiliary data.<a class="headerlink" href="#get-results-runtimes-and-auxiliary-data" title="Permalink to this headline"></a></h3>
<p>After successfully running all the data with all the preprocessings and all the data generated with the kernels, we get the runtimes, auxiliary data, and the results using the <code class="docutils literal notranslate"><span class="pre">GetResults</span></code>, <code class="docutils literal notranslate"><span class="pre">GetAuxiliary</span></code>, and <code class="docutils literal notranslate"><span class="pre">GetRunTimes</span></code>functions.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="c1">// check results</span>
<span class="w">  </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Results: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">exp</span><span class="p">.</span><span class="n">GetResults</span><span class="p">();</span><span class="w"></span>
<span class="w">  </span><span class="k">for</span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">r</span><span class="o">:</span><span class="w"> </span><span class="n">res</span><span class="p">){</span><span class="w"></span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">first</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;: &quot;</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">any_cast</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">r</span><span class="p">.</span><span class="n">second</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span><span class="w"></span>
<span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">50</span><span class="p">;</span><span class="w"> </span><span class="n">t</span><span class="o">++</span><span class="p">){</span><span class="w"></span>
<span class="w">      </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">result</span><span class="p">[</span><span class="n">t</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w"></span>

<span class="w">  </span><span class="c1">// get auxiliary data created during the experiment</span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">auxiliary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">exp</span><span class="p">.</span><span class="n">GetAuxiliary</span><span class="p">();</span><span class="w"></span>
<span class="w">  </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Auxiliary Data: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="k">for</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">a</span><span class="o">:</span><span class="w"> </span><span class="n">auxiliary</span><span class="p">){</span><span class="w"></span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">first</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w"></span>

<span class="w">  </span><span class="c1">// display runtimes</span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">secs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">exp</span><span class="p">.</span><span class="n">GetRunTimes</span><span class="p">();</span><span class="w"></span>
<span class="w">  </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Runtimes: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="k">for</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="w"> </span><span class="n">secs</span><span class="p">){</span><span class="w"></span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">first</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;: &quot;</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">sr</span><span class="o">:</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">second</span><span class="p">){</span><span class="w"></span>
<span class="w">      </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">sr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="compile-execute-the-program">
<h3>7. Compile &amp; Execute the program.<a class="headerlink" href="#compile-execute-the-program" title="Permalink to this headline"></a></h3>
<p>Compile the code using <code class="docutils literal notranslate"><span class="pre">g++</span></code>. We assume SparseBase has already been installed in the compiled setting (as opposed to header-only installation).</p>
<p>While in the directory <code class="docutils literal notranslate"><span class="pre">tutorials/003_experiment/start_here</span></code>, execute the following commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>g++ -std<span class="o">=</span>c++17 tutorial_003.cc -lsparsebase -lgomp -fopenmp -std<span class="o">=</span>c++17 -o experiment.out
./experiment.out ../../../examples/data/ash958.mtx ../../../examples/data/com-dblp.uedgelist 
</pre></div>
</div>
<p>You should see an output similar to the following:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">11</span><span class="o">/</span><span class="mi">24</span><span class="o">/</span><span class="mi">22</span><span class="w"> </span><span class="mi">14</span><span class="o">:</span><span class="mi">29</span><span class="o">:</span><span class="mi">36</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="n">WARNING</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="n">sparsebase</span><span class="o">::</span><span class="n">format</span><span class="o">::</span><span class="n">COO</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="o">&gt;</span><span class="p">]</span><span class="w"> </span><span class="n">COO</span><span class="w"> </span><span class="n">arrays</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">sorted</span><span class="p">.</span><span class="w"> </span><span class="n">Sorting</span><span class="p">...</span><span class="w"></span>
<span class="p">[</span><span class="mi">11</span><span class="o">/</span><span class="mi">24</span><span class="o">/</span><span class="mi">22</span><span class="w"> </span><span class="mi">14</span><span class="o">:</span><span class="mi">29</span><span class="o">:</span><span class="mi">36</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="n">WARNING</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="n">sparsebase</span><span class="o">::</span><span class="n">format</span><span class="o">::</span><span class="n">CSR</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="o">&gt;</span><span class="p">]</span><span class="w"> </span><span class="n">CSR</span><span class="w"> </span><span class="n">column</span><span class="w"> </span><span class="n">array</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">sorted</span><span class="p">.</span><span class="w"> </span><span class="n">Sorting</span><span class="p">...</span><span class="w"></span>
<span class="p">[</span><span class="mi">11</span><span class="o">/</span><span class="mi">24</span><span class="o">/</span><span class="mi">22</span><span class="w"> </span><span class="mi">14</span><span class="o">:</span><span class="mi">29</span><span class="o">:</span><span class="mi">42</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="n">WARNING</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="n">sparsebase</span><span class="o">::</span><span class="n">format</span><span class="o">::</span><span class="n">CSR</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="o">&gt;</span><span class="p">]</span><span class="w"> </span><span class="n">CSR</span><span class="w"> </span><span class="n">column</span><span class="w"> </span><span class="n">array</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">sorted</span><span class="p">.</span><span class="w"> </span><span class="n">Sorting</span><span class="p">...</span><span class="w"></span>
<span class="nl">Results</span><span class="p">:</span><span class="w"> </span>
<span class="o">-</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">ash958</span><span class="p">.</span><span class="n">mtx</span><span class="p">,</span><span class="n">RCM</span><span class="p">,</span><span class="n">omp</span><span class="o">-</span><span class="n">parallel</span><span class="p">,</span><span class="mi">0</span><span class="o">:</span><span class="w"> </span><span class="mf">0.822065</span><span class="w"> </span><span class="mf">0.0235149</span><span class="w"> </span><span class="mf">0.626296</span><span class="w"> </span><span class="mf">-0.0925408</span><span class="w"> </span><span class="mf">-0.0329058</span><span class="w"> </span><span class="mf">-0.26158</span><span class="w"> </span><span class="mf">0.184576</span><span class="w"> </span><span class="mf">-0.17292</span><span class="w"> </span><span class="mf">0.527329</span><span class="w"> </span><span class="mf">-0.632491</span><span class="w"> </span><span class="mf">-0.371785</span><span class="w"> </span><span class="mf">-0.218926</span><span class="w"> </span><span class="mf">-0.24636</span><span class="w"> </span><span class="mf">-0.401657</span><span class="w"> </span><span class="mf">0.356059</span><span class="w"> </span><span class="mf">0.556284</span><span class="w"> </span><span class="mf">0.734213</span><span class="w"> </span><span class="mf">0.538989</span><span class="w"> </span><span class="mf">0.298418</span><span class="w"> </span><span class="mf">0.380691</span><span class="w"> </span><span class="mf">0.642242</span><span class="w"> </span><span class="mf">-0.531986</span><span class="w"> </span><span class="mf">-0.115331</span><span class="w"> </span><span class="mf">-0.53883</span><span class="w"> </span><span class="mf">0.268276</span><span class="w"> </span><span class="mf">0.114501</span><span class="w"> </span><span class="mf">-0.226813</span><span class="w"> </span><span class="mf">0.44635</span><span class="w"> </span><span class="mf">0.609854</span><span class="w"> </span><span class="mf">0.412667</span><span class="w"> </span><span class="mf">0.511964</span><span class="w"> </span><span class="mf">0.489284</span><span class="w"> </span><span class="mf">-0.211855</span><span class="w"> </span><span class="mf">-0.660333</span><span class="w"> </span><span class="mf">-0.706591</span><span class="w"> </span><span class="mf">-0.195008</span><span class="w"> </span><span class="mf">-0.145754</span><span class="w"> </span><span class="mf">0.388777</span><span class="w"> </span><span class="mf">-0.382022</span><span class="w"> </span><span class="mf">-0.191022</span><span class="w"> </span><span class="mf">-0.61304</span><span class="w"> </span><span class="mf">0.570586</span><span class="w"> </span><span class="mf">0.221566</span><span class="w"> </span><span class="mf">-0.856259</span><span class="w"> </span><span class="mf">-0.0557599</span><span class="w"> </span><span class="mf">0.123087</span><span class="w"> </span><span class="mf">-0.0439124</span><span class="w"> </span><span class="mf">0.483856</span><span class="w"> </span><span class="mf">-0.868368</span><span class="w"> </span><span class="mf">0.0145038</span><span class="w"> </span>
<span class="o">-</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">ash958</span><span class="p">.</span><span class="n">mtx</span><span class="p">,</span><span class="n">RCM</span><span class="p">,</span><span class="n">single</span><span class="o">-</span><span class="n">threaded</span><span class="p">,</span><span class="mi">0</span><span class="o">:</span><span class="w"> </span><span class="mf">0.822065</span><span class="w"> </span><span class="mf">0.0235149</span><span class="w"> </span><span class="mf">0.626296</span><span class="w"> </span><span class="mf">-0.0925408</span><span class="w"> </span><span class="mf">-0.0329058</span><span class="w"> </span><span class="mf">-0.26158</span><span class="w"> </span><span class="mf">0.184576</span><span class="w"> </span><span class="mf">-0.17292</span><span class="w"> </span><span class="mf">0.527329</span><span class="w"> </span><span class="mf">-0.632491</span><span class="w"> </span><span class="mf">-0.371785</span><span class="w"> </span><span class="mf">-0.218926</span><span class="w"> </span><span class="mf">-0.24636</span><span class="w"> </span><span class="mf">-0.401657</span><span class="w"> </span><span class="mf">0.356059</span><span class="w"> </span><span class="mf">0.556284</span><span class="w"> </span><span class="mf">0.734213</span><span class="w"> </span><span class="mf">0.538989</span><span class="w"> </span><span class="mf">0.298418</span><span class="w"> </span><span class="mf">0.380691</span><span class="w"> </span><span class="mf">0.642242</span><span class="w"> </span><span class="mf">-0.531986</span><span class="w"> </span><span class="mf">-0.115331</span><span class="w"> </span><span class="mf">-0.53883</span><span class="w"> </span><span class="mf">0.268276</span><span class="w"> </span><span class="mf">0.114501</span><span class="w"> </span><span class="mf">-0.226813</span><span class="w"> </span><span class="mf">0.44635</span><span class="w"> </span><span class="mf">0.609854</span><span class="w"> </span><span class="mf">0.412667</span><span class="w"> </span><span class="mf">0.511964</span><span class="w"> </span><span class="mf">0.489284</span><span class="w"> </span><span class="mf">-0.211855</span><span class="w"> </span><span class="mf">-0.660333</span><span class="w"> </span><span class="mf">-0.706591</span><span class="w"> </span><span class="mf">-0.195008</span><span class="w"> </span><span class="mf">-0.145754</span><span class="w"> </span><span class="mf">0.388777</span><span class="w"> </span><span class="mf">-0.382022</span><span class="w"> </span><span class="mf">-0.191022</span><span class="w"> </span><span class="mf">-0.61304</span><span class="w"> </span><span class="mf">0.570586</span><span class="w"> </span><span class="mf">0.221566</span><span class="w"> </span><span class="mf">-0.856259</span><span class="w"> </span><span class="mf">-0.0557599</span><span class="w"> </span><span class="mf">0.123087</span><span class="w"> </span><span class="mf">-0.0439124</span><span class="w"> </span><span class="mf">0.483856</span><span class="w"> </span><span class="mf">-0.868368</span><span class="w"> </span><span class="mf">0.0145038</span><span class="w"> </span>
<span class="o">-</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">ash958</span><span class="p">.</span><span class="n">mtx</span><span class="p">,</span><span class="n">original</span><span class="p">,</span><span class="n">omp</span><span class="o">-</span><span class="n">parallel</span><span class="p">,</span><span class="mi">0</span><span class="o">:</span><span class="w"> </span><span class="mf">-0.773307</span><span class="w"> </span><span class="mf">0.0264165</span><span class="w"> </span><span class="mf">0.252196</span><span class="w"> </span><span class="mf">0.489519</span><span class="w"> </span><span class="mf">-0.105733</span><span class="w"> </span><span class="mf">-0.294369</span><span class="w"> </span><span class="mf">0.571206</span><span class="w"> </span><span class="mf">0.695816</span><span class="w"> </span><span class="mf">0.26244</span><span class="w"> </span><span class="mf">-0.167607</span><span class="w"> </span><span class="mf">-0.331523</span><span class="w"> </span><span class="mf">-0.172566</span><span class="w"> </span><span class="mf">-0.238891</span><span class="w"> </span><span class="mf">0.0280457</span><span class="w"> </span><span class="mf">0.315937</span><span class="w"> </span><span class="mf">0.178022</span><span class="w"> </span><span class="mf">0.762208</span><span class="w"> </span><span class="mf">0.384923</span><span class="w"> </span><span class="mf">0.0996124</span><span class="w"> </span><span class="mf">0.583326</span><span class="w"> </span><span class="mf">0.134168</span><span class="w"> </span><span class="mf">-0.684496</span><span class="w"> </span><span class="mf">-0.0302757</span><span class="w"> </span><span class="mf">0.146844</span><span class="w"> </span><span class="mf">0.110476</span><span class="w"> </span><span class="mf">0.147265</span><span class="w"> </span><span class="mf">-0.497262</span><span class="w"> </span><span class="mf">-0.992332</span><span class="w"> </span><span class="mf">0.470027</span><span class="w"> </span><span class="mf">-0.30586</span><span class="w"> </span><span class="mf">0.874546</span><span class="w"> </span><span class="mf">0.128382</span><span class="w"> </span><span class="mf">0.21321</span><span class="w"> </span><span class="mf">-0.101168</span><span class="w"> </span><span class="mf">0.759906</span><span class="w"> </span><span class="mf">-0.108132</span><span class="w"> </span><span class="mf">-0.148001</span><span class="w"> </span><span class="mf">-0.331163</span><span class="w"> </span><span class="mf">0.23896</span><span class="w"> </span><span class="mf">-0.103248</span><span class="w"> </span><span class="mf">0.221801</span><span class="w"> </span><span class="mf">0.182518</span><span class="w"> </span><span class="mf">-0.572703</span><span class="w"> </span><span class="mf">0.633607</span><span class="w"> </span><span class="mf">0.21792</span><span class="w"> </span><span class="mf">0.220205</span><span class="w"> </span><span class="mf">-0.167772</span><span class="w"> </span><span class="mf">-0.103758</span><span class="w"> </span><span class="mf">0.487433</span><span class="w"> </span><span class="mf">-0.169161</span><span class="w"> </span>
<span class="o">-</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">ash958</span><span class="p">.</span><span class="n">mtx</span><span class="p">,</span><span class="n">original</span><span class="p">,</span><span class="n">single</span><span class="o">-</span><span class="n">threaded</span><span class="p">,</span><span class="mi">0</span><span class="o">:</span><span class="w"> </span><span class="mf">-0.773307</span><span class="w"> </span><span class="mf">0.0264165</span><span class="w"> </span><span class="mf">0.252196</span><span class="w"> </span><span class="mf">0.489519</span><span class="w"> </span><span class="mf">-0.105733</span><span class="w"> </span><span class="mf">-0.294369</span><span class="w"> </span><span class="mf">0.571206</span><span class="w"> </span><span class="mf">0.695816</span><span class="w"> </span><span class="mf">0.26244</span><span class="w"> </span><span class="mf">-0.167607</span><span class="w"> </span><span class="mf">-0.331523</span><span class="w"> </span><span class="mf">-0.172566</span><span class="w"> </span><span class="mf">-0.238891</span><span class="w"> </span><span class="mf">0.0280457</span><span class="w"> </span><span class="mf">0.315937</span><span class="w"> </span><span class="mf">0.178022</span><span class="w"> </span><span class="mf">0.762208</span><span class="w"> </span><span class="mf">0.384923</span><span class="w"> </span><span class="mf">0.0996124</span><span class="w"> </span><span class="mf">0.583326</span><span class="w"> </span><span class="mf">0.134168</span><span class="w"> </span><span class="mf">-0.684496</span><span class="w"> </span><span class="mf">-0.0302757</span><span class="w"> </span><span class="mf">0.146844</span><span class="w"> </span><span class="mf">0.110476</span><span class="w"> </span><span class="mf">0.147265</span><span class="w"> </span><span class="mf">-0.497262</span><span class="w"> </span><span class="mf">-0.992332</span><span class="w"> </span><span class="mf">0.470027</span><span class="w"> </span><span class="mf">-0.30586</span><span class="w"> </span><span class="mf">0.874546</span><span class="w"> </span><span class="mf">0.128382</span><span class="w"> </span><span class="mf">0.21321</span><span class="w"> </span><span class="mf">-0.101168</span><span class="w"> </span><span class="mf">0.759906</span><span class="w"> </span><span class="mf">-0.108132</span><span class="w"> </span><span class="mf">-0.148001</span><span class="w"> </span><span class="mf">-0.331163</span><span class="w"> </span><span class="mf">0.23896</span><span class="w"> </span><span class="mf">-0.103248</span><span class="w"> </span><span class="mf">0.221801</span><span class="w"> </span><span class="mf">0.182518</span><span class="w"> </span><span class="mf">-0.572703</span><span class="w"> </span><span class="mf">0.633607</span><span class="w"> </span><span class="mf">0.21792</span><span class="w"> </span><span class="mf">0.220205</span><span class="w"> </span><span class="mf">-0.167772</span><span class="w"> </span><span class="mf">-0.103758</span><span class="w"> </span><span class="mf">0.487433</span><span class="w"> </span><span class="mf">-0.169161</span><span class="w"> </span>
<span class="o">-</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">com</span><span class="o">-</span><span class="n">dblp</span><span class="p">.</span><span class="n">uedgelist</span><span class="p">,</span><span class="n">RCM</span><span class="p">,</span><span class="n">omp</span><span class="o">-</span><span class="n">parallel</span><span class="p">,</span><span class="mi">0</span><span class="o">:</span><span class="w"> </span><span class="mf">0.523699</span><span class="w"> </span><span class="mf">0.0201702</span><span class="w"> </span><span class="mf">-0.129043</span><span class="w"> </span><span class="mf">-0.339734</span><span class="w"> </span><span class="mf">0.00160382</span><span class="w"> </span><span class="mf">0.897491</span><span class="w"> </span><span class="mf">1.14721</span><span class="w"> </span><span class="mf">-1.66401</span><span class="w"> </span><span class="mf">-0.702446</span><span class="w"> </span><span class="mf">-0.915523</span><span class="w"> </span><span class="mf">-0.577063</span><span class="w"> </span><span class="mf">-0.459128</span><span class="w"> </span><span class="mf">0.392694</span><span class="w"> </span><span class="mf">0.0368445</span><span class="w"> </span><span class="mf">-0.0352359</span><span class="w"> </span><span class="mf">0.620369</span><span class="w"> </span><span class="mf">-0.88126</span><span class="w"> </span><span class="mf">0.551372</span><span class="w"> </span><span class="mf">-0.147413</span><span class="w"> </span><span class="mf">-0.0913807</span><span class="w"> </span><span class="mf">0.933404</span><span class="w"> </span><span class="mf">-0.0427016</span><span class="w"> </span><span class="mf">-0.764132</span><span class="w"> </span><span class="mf">-0.0581159</span><span class="w"> </span><span class="mf">0.182207</span><span class="w"> </span><span class="mf">0.35385</span><span class="w"> </span><span class="mf">0.00877577</span><span class="w"> </span><span class="mf">0.237135</span><span class="w"> </span><span class="mf">0.533137</span><span class="w"> </span><span class="mf">0.0410516</span><span class="w"> </span><span class="mf">-0.540313</span><span class="w"> </span><span class="mf">1.14785</span><span class="w"> </span><span class="mf">-0.633249</span><span class="w"> </span><span class="mf">0.529273</span><span class="w"> </span><span class="mf">-0.0955376</span><span class="w"> </span><span class="mf">0.789746</span><span class="w"> </span><span class="mf">0.353336</span><span class="w"> </span><span class="mf">0.0572413</span><span class="w"> </span><span class="mf">-0.257666</span><span class="w"> </span><span class="mf">0.361567</span><span class="w"> </span><span class="mf">0.13089</span><span class="w"> </span><span class="mf">0.282823</span><span class="w"> </span><span class="mf">-0.370485</span><span class="w"> </span><span class="mf">-0.748098</span><span class="w"> </span><span class="mf">0.503802</span><span class="w"> </span><span class="mf">-0.505965</span><span class="w"> </span><span class="mf">0.419774</span><span class="w"> </span><span class="mf">0.182175</span><span class="w"> </span><span class="mf">0.204978</span><span class="w"> </span><span class="mf">0.152497</span><span class="w"> </span>
<span class="o">-</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">com</span><span class="o">-</span><span class="n">dblp</span><span class="p">.</span><span class="n">uedgelist</span><span class="p">,</span><span class="n">RCM</span><span class="p">,</span><span class="n">single</span><span class="o">-</span><span class="n">threaded</span><span class="p">,</span><span class="mi">0</span><span class="o">:</span><span class="w"> </span><span class="mf">0.523699</span><span class="w"> </span><span class="mf">0.0201702</span><span class="w"> </span><span class="mf">-0.129043</span><span class="w"> </span><span class="mf">-0.339734</span><span class="w"> </span><span class="mf">0.00160382</span><span class="w"> </span><span class="mf">0.897491</span><span class="w"> </span><span class="mf">1.14721</span><span class="w"> </span><span class="mf">-1.66401</span><span class="w"> </span><span class="mf">-0.702446</span><span class="w"> </span><span class="mf">-0.915523</span><span class="w"> </span><span class="mf">-0.577063</span><span class="w"> </span><span class="mf">-0.459128</span><span class="w"> </span><span class="mf">0.392694</span><span class="w"> </span><span class="mf">0.0368445</span><span class="w"> </span><span class="mf">-0.0352359</span><span class="w"> </span><span class="mf">0.620369</span><span class="w"> </span><span class="mf">-0.88126</span><span class="w"> </span><span class="mf">0.551372</span><span class="w"> </span><span class="mf">-0.147413</span><span class="w"> </span><span class="mf">-0.0913807</span><span class="w"> </span><span class="mf">0.933404</span><span class="w"> </span><span class="mf">-0.0427016</span><span class="w"> </span><span class="mf">-0.764132</span><span class="w"> </span><span class="mf">-0.0581159</span><span class="w"> </span><span class="mf">0.182207</span><span class="w"> </span><span class="mf">0.35385</span><span class="w"> </span><span class="mf">0.00877577</span><span class="w"> </span><span class="mf">0.237135</span><span class="w"> </span><span class="mf">0.533137</span><span class="w"> </span><span class="mf">0.0410516</span><span class="w"> </span><span class="mf">-0.540313</span><span class="w"> </span><span class="mf">1.14785</span><span class="w"> </span><span class="mf">-0.633249</span><span class="w"> </span><span class="mf">0.529273</span><span class="w"> </span><span class="mf">-0.0955376</span><span class="w"> </span><span class="mf">0.789746</span><span class="w"> </span><span class="mf">0.353336</span><span class="w"> </span><span class="mf">0.0572413</span><span class="w"> </span><span class="mf">-0.257666</span><span class="w"> </span><span class="mf">0.361567</span><span class="w"> </span><span class="mf">0.13089</span><span class="w"> </span><span class="mf">0.282823</span><span class="w"> </span><span class="mf">-0.370485</span><span class="w"> </span><span class="mf">-0.748098</span><span class="w"> </span><span class="mf">0.503802</span><span class="w"> </span><span class="mf">-0.505965</span><span class="w"> </span><span class="mf">0.419774</span><span class="w"> </span><span class="mf">0.182175</span><span class="w"> </span><span class="mf">0.204978</span><span class="w"> </span><span class="mf">0.152497</span><span class="w"> </span>
<span class="o">-</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">com</span><span class="o">-</span><span class="n">dblp</span><span class="p">.</span><span class="n">uedgelist</span><span class="p">,</span><span class="n">original</span><span class="p">,</span><span class="n">omp</span><span class="o">-</span><span class="n">parallel</span><span class="p">,</span><span class="mi">0</span><span class="o">:</span><span class="w"> </span><span class="mf">1.20506</span><span class="w"> </span><span class="mf">2.95578</span><span class="w"> </span><span class="mf">-1.01716</span><span class="w"> </span><span class="mf">-0.766262</span><span class="w"> </span><span class="mf">-0.267771</span><span class="w"> </span><span class="mf">0.06677</span><span class="w"> </span><span class="mf">1.55544</span><span class="w"> </span><span class="mf">0.220332</span><span class="w"> </span><span class="mf">-0.571644</span><span class="w"> </span><span class="mf">-0.168241</span><span class="w"> </span><span class="mf">0.113864</span><span class="w"> </span><span class="mf">-0.361985</span><span class="w"> </span><span class="mf">-0.0664757</span><span class="w"> </span><span class="mf">-0.126499</span><span class="w"> </span><span class="mf">0.316209</span><span class="w"> </span><span class="mf">0.801863</span><span class="w"> </span><span class="mf">-0.464519</span><span class="w"> </span><span class="mf">-0.653387</span><span class="w"> </span><span class="mf">-0.0847772</span><span class="w"> </span><span class="mf">-0.946206</span><span class="w"> </span><span class="mf">0.796946</span><span class="w"> </span><span class="mf">-0.168874</span><span class="w"> </span><span class="mf">-0.617958</span><span class="w"> </span><span class="mf">0.833564</span><span class="w"> </span><span class="mf">-0.237255</span><span class="w"> </span><span class="mf">0.130632</span><span class="w"> </span><span class="mf">0.103078</span><span class="w"> </span><span class="mf">0.238537</span><span class="w"> </span><span class="mf">0.461887</span><span class="w"> </span><span class="mf">0.130257</span><span class="w"> </span><span class="mf">-0.183248</span><span class="w"> </span><span class="mf">0.800289</span><span class="w"> </span><span class="mf">0.310773</span><span class="w"> </span><span class="mf">-0.693214</span><span class="w"> </span><span class="mf">-1.27944</span><span class="w"> </span><span class="mf">-0.0579325</span><span class="w"> </span><span class="mf">0.851679</span><span class="w"> </span><span class="mf">-0.354578</span><span class="w"> </span><span class="mf">2.59094</span><span class="w"> </span><span class="mf">0.128936</span><span class="w"> </span><span class="mf">-0.000659117</span><span class="w"> </span><span class="mf">-0.141935</span><span class="w"> </span><span class="mf">0.365061</span><span class="w"> </span><span class="mf">1.12694</span><span class="w"> </span><span class="mf">0.282495</span><span class="w"> </span><span class="mf">-0.0483253</span><span class="w"> </span><span class="mf">-0.22286</span><span class="w"> </span><span class="mf">1.98556</span><span class="w"> </span><span class="mf">-1.08325</span><span class="w"> </span><span class="mf">-0.0935952</span><span class="w"> </span>
<span class="o">-</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">com</span><span class="o">-</span><span class="n">dblp</span><span class="p">.</span><span class="n">uedgelist</span><span class="p">,</span><span class="n">original</span><span class="p">,</span><span class="n">single</span><span class="o">-</span><span class="n">threaded</span><span class="p">,</span><span class="mi">0</span><span class="o">:</span><span class="w"> </span><span class="mf">1.20506</span><span class="w"> </span><span class="mf">2.95578</span><span class="w"> </span><span class="mf">-1.01716</span><span class="w"> </span><span class="mf">-0.766262</span><span class="w"> </span><span class="mf">-0.267771</span><span class="w"> </span><span class="mf">0.06677</span><span class="w"> </span><span class="mf">1.55544</span><span class="w"> </span><span class="mf">0.220332</span><span class="w"> </span><span class="mf">-0.571644</span><span class="w"> </span><span class="mf">-0.168241</span><span class="w"> </span><span class="mf">0.113864</span><span class="w"> </span><span class="mf">-0.361985</span><span class="w"> </span><span class="mf">-0.0664757</span><span class="w"> </span><span class="mf">-0.126499</span><span class="w"> </span><span class="mf">0.316209</span><span class="w"> </span><span class="mf">0.801863</span><span class="w"> </span><span class="mf">-0.464519</span><span class="w"> </span><span class="mf">-0.653387</span><span class="w"> </span><span class="mf">-0.0847772</span><span class="w"> </span><span class="mf">-0.946206</span><span class="w"> </span><span class="mf">0.796946</span><span class="w"> </span><span class="mf">-0.168874</span><span class="w"> </span><span class="mf">-0.617958</span><span class="w"> </span><span class="mf">0.833564</span><span class="w"> </span><span class="mf">-0.237255</span><span class="w"> </span><span class="mf">0.130632</span><span class="w"> </span><span class="mf">0.103078</span><span class="w"> </span><span class="mf">0.238537</span><span class="w"> </span><span class="mf">0.461887</span><span class="w"> </span><span class="mf">0.130257</span><span class="w"> </span><span class="mf">-0.183248</span><span class="w"> </span><span class="mf">0.800289</span><span class="w"> </span><span class="mf">0.310773</span><span class="w"> </span><span class="mf">-0.693214</span><span class="w"> </span><span class="mf">-1.27944</span><span class="w"> </span><span class="mf">-0.0579325</span><span class="w"> </span><span class="mf">0.851679</span><span class="w"> </span><span class="mf">-0.354578</span><span class="w"> </span><span class="mf">2.59094</span><span class="w"> </span><span class="mf">0.128936</span><span class="w"> </span><span class="mf">-0.000659117</span><span class="w"> </span><span class="mf">-0.141935</span><span class="w"> </span><span class="mf">0.365061</span><span class="w"> </span><span class="mf">1.12694</span><span class="w"> </span><span class="mf">0.282495</span><span class="w"> </span><span class="mf">-0.0483253</span><span class="w"> </span><span class="mf">-0.22286</span><span class="w"> </span><span class="mf">1.98556</span><span class="w"> </span><span class="mf">-1.08325</span><span class="w"> </span><span class="mf">-0.0935952</span><span class="w"> </span>

<span class="n">Auxiliary</span><span class="w"> </span><span class="n">Data</span><span class="o">:</span><span class="w"> </span>
<span class="n">format</span><span class="p">,</span><span class="o">-</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">ash958</span><span class="p">.</span><span class="n">mtx</span><span class="w"></span>
<span class="n">format</span><span class="p">,</span><span class="o">-</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">com</span><span class="o">-</span><span class="n">dblp</span><span class="p">.</span><span class="n">uedgelist</span><span class="w"></span>
<span class="n">processed_format</span><span class="p">,</span><span class="o">-</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">ash958</span><span class="p">.</span><span class="n">mtx</span><span class="p">,</span><span class="n">RCM</span><span class="w"></span>
<span class="n">processed_format</span><span class="p">,</span><span class="o">-</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">ash958</span><span class="p">.</span><span class="n">mtx</span><span class="p">,</span><span class="n">original</span><span class="w"></span>
<span class="n">processed_format</span><span class="p">,</span><span class="o">-</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">com</span><span class="o">-</span><span class="n">dblp</span><span class="p">.</span><span class="n">uedgelist</span><span class="p">,</span><span class="n">RCM</span><span class="w"></span>
<span class="n">processed_format</span><span class="p">,</span><span class="o">-</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">com</span><span class="o">-</span><span class="n">dblp</span><span class="p">.</span><span class="n">uedgelist</span><span class="p">,</span><span class="n">original</span><span class="w"></span>

<span class="nl">Runtimes</span><span class="p">:</span><span class="w"> </span>
<span class="o">-</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">ash958</span><span class="p">.</span><span class="n">mtx</span><span class="p">,</span><span class="n">RCM</span><span class="p">,</span><span class="n">omp</span><span class="o">-</span><span class="n">parallel</span><span class="p">,</span><span class="mi">0</span><span class="o">:</span><span class="w"> </span><span class="mf">0.00653002</span><span class="w"> </span>
<span class="o">-</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">ash958</span><span class="p">.</span><span class="n">mtx</span><span class="p">,</span><span class="n">RCM</span><span class="p">,</span><span class="n">single</span><span class="o">-</span><span class="n">threaded</span><span class="p">,</span><span class="mi">0</span><span class="o">:</span><span class="w"> </span><span class="mf">0.00593936</span><span class="w"> </span>
<span class="o">-</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">ash958</span><span class="p">.</span><span class="n">mtx</span><span class="p">,</span><span class="n">original</span><span class="p">,</span><span class="n">omp</span><span class="o">-</span><span class="n">parallel</span><span class="p">,</span><span class="mi">0</span><span class="o">:</span><span class="w"> </span><span class="mf">0.00605211</span><span class="w"> </span>
<span class="o">-</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">ash958</span><span class="p">.</span><span class="n">mtx</span><span class="p">,</span><span class="n">original</span><span class="p">,</span><span class="n">single</span><span class="o">-</span><span class="n">threaded</span><span class="p">,</span><span class="mi">0</span><span class="o">:</span><span class="w"> </span><span class="mf">0.00647483</span><span class="w"> </span>
<span class="o">-</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">com</span><span class="o">-</span><span class="n">dblp</span><span class="p">.</span><span class="n">uedgelist</span><span class="p">,</span><span class="n">RCM</span><span class="p">,</span><span class="n">omp</span><span class="o">-</span><span class="n">parallel</span><span class="p">,</span><span class="mi">0</span><span class="o">:</span><span class="w"> </span><span class="mf">0.0185962</span><span class="w"> </span>
<span class="o">-</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">com</span><span class="o">-</span><span class="n">dblp</span><span class="p">.</span><span class="n">uedgelist</span><span class="p">,</span><span class="n">RCM</span><span class="p">,</span><span class="n">single</span><span class="o">-</span><span class="n">threaded</span><span class="p">,</span><span class="mi">0</span><span class="o">:</span><span class="w"> </span><span class="mf">0.0150828</span><span class="w"> </span>
<span class="o">-</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">com</span><span class="o">-</span><span class="n">dblp</span><span class="p">.</span><span class="n">uedgelist</span><span class="p">,</span><span class="n">original</span><span class="p">,</span><span class="n">omp</span><span class="o">-</span><span class="n">parallel</span><span class="p">,</span><span class="mi">0</span><span class="o">:</span><span class="w"> </span><span class="mf">0.0171727</span><span class="w"> </span>
<span class="o">-</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">com</span><span class="o">-</span><span class="n">dblp</span><span class="p">.</span><span class="n">uedgelist</span><span class="p">,</span><span class="n">original</span><span class="p">,</span><span class="n">single</span><span class="o">-</span><span class="n">threaded</span><span class="p">,</span><span class="mi">0</span><span class="o">:</span><span class="w"> </span><span class="mf">0.0170771</span><span class="w"> </span>
</pre></div>
</div>
<p>Check out the <code class="docutils literal notranslate"><span class="pre">examples/example_experiment</span></code> folder for an extended version, that uses GPUs, of the experiment we just created, ran and analyzed.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="002_feature_extraction.html" class="btn btn-neutral float-left" title="Feature Extraction from a Matrix Market File" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="004_cuda_spmv.html" class="btn btn-neutral float-right" title="Accelerating SpMV on the GPU using reordering" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, SparCity Project.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>